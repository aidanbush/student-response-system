<!DOCTYPE html>
<html>
<head>
    <title>Student Assessment</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
<div id="title_header">
    <h1>Student Assessment</h1>
</div>
<div id="header_buttons">
    <div id="logout_btn" class="hidden">Logout</div>
    <div id="new_class_btn" class="hidden">Join/Create Classes</div>
    <div id="student_class_list_btn" class="hidden">Enrolled Classes</div>
    <div id="instr_class_list_btn" class="hidden">Teaching Classes</div>
</div>

<!-- Login page -->
<div id="new">
<!-- page doT templates -->
<!-- page contents -->
    <div class="page_header">
        <h2>Login</h2>
    </div>
<!-- join class -->
    <h4 id="join_heading">Join Class</h4>
    <div id="join" class="hidden">
        <div id="join_input">
            <div class="class_name">
                Class ID:
                <br>
                <input type="text" id="join_class_id">
            </div>
            <div class="person_name">
                Name:
                <br>
                <input type="text" id="student_name">
            </div>
            <br>
            <button id="join_class_btn">Join class</button>
        </div>
        <div id="join_input_error"></div>
    </div>
<!-- create class -->
    <h4 id="create_heading">Create Class</h4>
    <div id="create" class="hidden">
        <div id="new_input">
            <div class="class_name">
                Class Name:
                <br>
                <input type="text" id="new_class_name">
            </div>
            <div class="person_name">
                Name:
                <br>
                <input type="text" id="instructor_name">
            </div>
            <br>
            <button id="new_class_btn">Create class</button>
        </div>
        <div id="new_input_error"></div>
    </div>
<!-- class list buttons -->
    <h4 id="class_list_heading">Class Lists</h4>
    <div id="list_classes" class="hidden">
        <button id="student_class_list_button">Student class list</button>
        <button id="instr_class_list_button">Instructor class list</button>
    </div>
</div>


<!-- Instructor pages -->
<div id="instructor_page" class="hidden">
<!-- page doT templates -->
    <script id="instructor_page_answer_results" type="x-dot-template">
        <table>
            <tr>
                <th>answer</th>
                <th>count</th>
            </tr>
            {{~it :answer}}
            <tr>
                <td>{{=answer.answer_id}}</td>
                <td>{{=answer.count}}</td>
            </tr>
            {{~}}
        </table>
    </script>
    <script id="instructor_class_page_template" type="x-dot-template">
        <h3 class="page_subheader">Class: {{=it.class_name}} ({{=it.class_id}})</h3>
        <div class="question_list">
            <ul id="instr_question_list">
            {{~it.questions :value}}
                <li class="question">
                    <div class="question_name">{{=value.question_title}}</div>
                    <ul id="ansList_{{=value.question_id}}">
                        {{~value.answers :answer}}
                        <li>
                            <div>{{=answer.answer_text}}</div>
                            <button class="answer_delete_btn" id="ansDel_{{=value.question_id}}_{{=answer.answer_id}}">delete answer</button>
                        </li>
                        {{~}}
                    </ul>
                </li>
                    Enter answer:
                    <input type="text" name="test" id="instrQuestionAddText_{{=value.question_id}}">
                    <br>
                    <button id="instrQuestionAdd_{{=value.question_id}}">add answer</button>
                    <button id="instrQuestionDel_{{=value.question_id}}">delete question</button>
                    {{?value.public === undefined || value.public === false}}
                        <button id="instrQuestionPub_{{=value.question_id}}">make public</button>
                    {{?}}
                    <button id="instrQuestionRes_{{=value.question_id}}">view results</button>
            {{~}}
            </ul>
            <div id="instr_new_question">
                Question Name:
                <br>
                <input type="text" id="instr_new_question_name">
                <button id="instr_new_question_btn">create new question</button>
            </div>
        </div>
    </script>
    <script id="instructor_class_list_template" type="x-dot-template">
        <ul>
            {{~value.classes}}
            <li>
                <div id="instrSwitchClass_{{=class.class_id}}">{{=class.class_name}}</div>
            </li>
            {{~}}
        </ul>
    </script>
<!-- page contents -->
    <div class="page_header">
        <h2>Instructor</h2>
        <h3 id="instructor_display_name">Hello: name</h3>
    </div>
<!-- class list -->
    <div id="instructor_class_selection_page" class="hidden">
        <h3 class="page_subheader">Class list</h3>
        <div id="instr_class_list">
        </div>
    </div>
<!-- class view -->
    <div id="instructor_class_page" class="hidden">
    </div>
</div>

<!-- Student pages -->
<div id="student_page" class="hidden">
<!-- page doT templates -->
    <script id="student_class_page_template" type="x-dot-template">
        <h3 class="page_subheader">Class: {{=it.class_name}} ({{=it.class_id}})</h3>
        <div class="question_list">
            <ul id="student_question_list">
            {{~it.questions :value}}
                <li class="question">
                    <div class="question_name">{{=value.question_title}}</div>
                    <ul id="ansList_{{=value.question_id}}">
                        {{~value.answers :answer}}
                        <li>
                            <div id="ansSel_{{=value.question_id}}_{{=answer.answer_id}}">{{=answer.answer_text}}</div>
                        </li>
                        {{~}}
                    </ul>
                </li>
            {{~}}
            </ul>
            <button id="student_refresh_questions">Refresh questions</button>
        </div>
    </script>
    <script id="student_class_list_template" type="x-dot-template">
        <ul id="student_class_list">
            {{~value.classes}}
            <li>
                <div id="studentSwitchClass_{{=class.class_id}}">{{=class.class_name}}</div>
            </li>
            {{~}}
        </ul>
    </script>
<!-- page contents -->
    <div class="page_header">
        <h2>Student</h2>
        <h3 id="student_display_name">Hello: name</h3>
    </div>
<!-- class list -->
    <div id="student_class_selection_page" class="hidden">
        <h3 class="page_subheader">Class list</h3>
        <div class="class_list" id="student_class_list">
            'table of classes'
        </div>
    </div>
<!-- class view -->
    <div id="student_class_page" class="hidden">
        <h3 class="page_subheader">Class: name</h3>
        <div class="question_list" id="student_question_list">
            'table of questions'
        </div>
    </div>
</div>
<script src="static/doT.js"></script>
<script src="static/script.js"></script>
</body>
</html>